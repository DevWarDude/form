<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Contact Form</title>
  </head>
  <body>
    <h1>Contact Us</h1>
    <form id="contactForm">
      <input name="name" placeholder="Your Name" required /><br />
      <input
        name="email"
        type="email"
        placeholder="Your Email"
        required
      /><br />
      <textarea name="message" placeholder="Your Message" required></textarea
      ><br />
      <button type="submit">Send</button>
    </form>

    <script>
      document
        .querySelector("form")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const formData = new FormData(e.target);
          const data = {
            name: formData.get("name"),
            email: formData.get("email"),
            message: formData.get("message"),
          };

          try {
            const response = await fetch(
              "https://form-backend-livid.vercel.app/api/send",
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
              }
            );

            const result = await response.json();
            alert(result.message);
          } catch (err) {
            console.error("Form submit error:", err);
            alert("There was a problem submitting the form.");
          }
        });
    </script>
  </body>
</html>
